name: Printar Valores da Issue

on:
  issues:
    types: [opened]
  workflow_dispatch:
    inputs:
      issue_number:
        description: "Número da Issue utilizada"
        type: number

jobs:
  get-issue-number:
    runs-on: ubuntu-latest
    outputs:
      issue_number: ${{ github.event.inputs.issue_number }}
    steps:
      - name: Setar número da issue
        id: set_issue_number
        run: echo "::set-output name=issue_number::${{ github.event.inputs.issue_number }}"

  print-issue-values:
    needs: [get-issue-number]
    runs-on: ubuntu-latest
    steps:
      - name: Checkout do código
        uses: actions/checkout@v2
        
      - name: Printar valores da issue
        uses: issue-form-parser@v2
        with:
          issue-number: ${{ needs.get-issue-number.outputs.issue_number }}
          storage-account-name: ${{ github.event.issue.body }}

